# P1 Framework

Single-file PHP 8.4+ micro-framework. Zero dependencies, copy-paste deployment.

## Architektura

- **Jeden plik:** `src/P1.php` — cały framework (~1200 LOC)
- **Namespace:** `P1` (klasy) + globalne helpery w `namespace {}`
- **Brak mail:** do maili używamy PHPMailer (zewnętrznie)

## Styl kodu

- **1TBS** (One True Brace Style) — klamra otwierająca w tej samej linii
- `declare(strict_types=1)` wszędzie
- PSR-12 z wyjątkiem 1TBS dla klas/metod
- Typy wszędzie, `===` zamiast `==`

## Klasy (P1 namespace)

HttpException, Request, Response, App, Db, View, Session, Csrf, Flash, Controller, Log, Validator, Cache, Base (fasada)

## Fasada Base

`P1\Base` — statyczne shortcuty do app/db/config. Projekty definiują własną klasę `P1 extends \P1\Base` z project-specific stałymi i helperami.

## Globalne helpery

`h()`, `ha()`, `sGet()`, `mlen()`, `msub()`, `sTrim()`, `stt()`, `sStrip()`, `sCount()`, `sExplode()`

## Testy

```bash
vendor/bin/phpunit              # wszystkie
vendor/bin/phpunit tests/Unit   # tylko unit
```

## DB

- `db/sessions.sql` — schemat sesji (MySQL)
- Session handler wspiera SQLite (INSERT OR REPLACE) i MySQL (ON DUPLICATE KEY)

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>